<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>KF Pizzaria & Tapiocaria</title>

<style>
body{
  font-family:Arial,sans-serif;
  background:#0e0e0e;
  color:#fff;
  margin:0;
  padding-bottom:260px;
}
header{
  background:#000;
  text-align:center;
  padding:20px;
}
header img{
  max-width:360px;
  width:100%;
}
nav{
  display:flex;
  justify-content:space-around;
  background:#111;
  padding:10px;
}
nav button{
  flex:1;
  margin:5px;
  padding:10px;
  font-size:16px;
  background:#111;
  color:#00ff66;
  border:2px solid #00ff66;
  border-radius:8px;
  cursor:pointer;
}
nav button:hover{
  background:#00ff66;
  color:#000;
}
section{
  display:none;
  padding:15px;
}
section.ativo{
  display:block;
}
.produto{
  background:#1c1c1c;
  padding:12px;
  border-radius:10px;
  margin-bottom:10px;
  display:flex;
  justify-content:space-between;
  align-items:center;
}
.produto button{
  border:2px solid #00ff66;
  background:#111;
  color:#00ff66;
  border-radius:20px;
  padding:6px 12px;
  cursor:pointer;
}
.produto button.selected{
  background:#00ff66;
  color:#000;
}
#botaoAdicionarCarrinho{
  position:fixed;
  bottom:20px;
  right:20px;
  background:#ff6600;
  color:#fff;
  padding:10px 18px;
  border-radius:8px;
  font-weight:bold;
  cursor:pointer;
}
#carrinho{
  background:#111;
  position:fixed;
  bottom:0;
  width:100%;
  max-height:300px;
  overflow:auto;
  padding:15px;
  border-top:2px solid #00ff66;
}
.finalizar{
  background:#00ff66;
  border:none;
  padding:10px;
  width:100%;
  font-size:18px;
  font-weight:bold;
  border-radius:8px;
  cursor:pointer;
}
input,select,textarea{
  width:100%;
  margin:5px 0;
  padding:8px;
  border-radius:6px;
  border:none;
}
</style>
</head>

<body>

<header>
  <img src="logo-kf.png" alt="KF Pizzaria">
</header>

<nav>
  <button onclick="mostrarMenu('pizzas')">üçï Pizzas</button>
  <button onclick="mostrarMenu('tapiocas')">üåÆ Tapiocas</button>
  <button onclick="mostrarMenu('bebidas')">ü•§ Bebidas</button>
</nav>

<section id="pizzas" class="ativo">
  <h3>Pizzas</h3>
  <div id="listaPizzas"></div>
</section>

<section id="tapiocas">
  <h3>Tapiocas</h3>
  <div id="listaTapiocas"></div>
</section>

<section id="bebidas">
  <h3>Bebidas</h3>
  <div id="listaBebidas"></div>
</section>

<button id="botaoAdicionarCarrinho" onclick="adicionarSelecionados()">
üõí Adicionar ao Carrinho
</button>

<div id="carrinho">
  <h3>üõí Carrinho</h3>
  <div id="itensCarrinho"></div>
  <p><strong>Total: R$ <span id="totalCarrinho">0.00</span></strong></p>

  <input id="nome" placeholder="Nome">
  <input id="endereco" placeholder="Endere√ßo">
  <select id="pagamento">
    <option value="">Forma de pagamento</option>
    <option value="dinheiro">Dinheiro</option>
    <option value="cartao">Cart√£o</option>
    <option value="pix">Pix</option>
  </select>
  <textarea id="observacao" placeholder="Observa√ß√µes"></textarea>

  <button class="finalizar" onclick="finalizarPedido()">üì≤ Enviar Pedido</button>
</div>

<script>
// ================= DADOS =================
const pizzas=[
  {nome:"Mussarela",preco:24},
  {nome:"Calabresa",preco:24},
  {nome:"Portuguesa",preco:29},
  {nome:"BANANA com CANELA",preco:30}
];

const tapiocas=[
  {nome:"Frango com Catupiry",preco:15},
  {nome:"Calabresa",preco:12}
];

const bebidas=[
  {nome:"√Ågua",preco:2.5},
  {nome:"Refrigerante Lata",preco:6}
];

let carrinho=[];
let selecionados=[];

// ================= FUN√á√ïES =================
function mostrarMenu(id){
  document.querySelectorAll("section").forEach(s=>s.classList.remove("ativo"));
  document.getElementById(id).classList.add("ativo");
}

function render(lista,divId){
  const div=document.getElementById(divId);
  div.innerHTML="";
  lista.forEach((p,i)=>{
    const sel=selecionados.includes(p);
    div.innerHTML+=`
      <div class="produto">
        <span>${p.nome} ‚Äî R$ ${p.preco.toFixed(2)}</span>
        <button class="${sel?'selected':''}" onclick="toggleItem(${i},'${divId}')">
          ${sel?'Remover':'Selecionar'}
        </button>
      </div>`;
  });
}

function toggleItem(i,tipo){
  let lista = tipo==="listaPizzas"?pizzas:tipo==="listaTapiocas"?tapiocas:bebidas;
  const item=lista[i];
  const idx=selecionados.indexOf(item);
  if(idx>=0) selecionados.splice(idx,1);
  else selecionados.push(item);
  atualizar();
}

function adicionarSelecionados(){
  selecionados.forEach(p=>{
    const ex=carrinho.find(i=>i.nome===p.nome);
    if(ex) ex.q++;
    else carrinho.push({nome:p.nome,preco:p.preco,q:1});
  });
  selecionados=[];
  atualizarCarrinho();
}

function atualizarCarrinho(){
  const div=document.getElementById("itensCarrinho");
  const totalSpan=document.getElementById("totalCarrinho");
  div.innerHTML="";
  let total=0;
  carrinho.forEach((i,idx)=>{
    total+=i.preco*i.q;
    div.innerHTML+=`${i.nome} x${i.q} ‚Äî R$ ${(i.preco*i.q).toFixed(2)} <button onclick="carrinho.splice(${idx},1);atualizarCarrinho()">‚ùå</button><br>`;
  });
  totalSpan.innerText=total.toFixed(2);
}

function finalizarPedido(){
  if(carrinho.length===0){alert("Carrinho vazio");return;}
  const nome=nome.value;
  const endereco=endereco.value;
  const pag=pagamento.value;

  let msg=`üçï *NOVO PEDIDO*\nüë§ ${nome}\nüìç ${endereco}\n`;
  carrinho.forEach(i=>{
    msg+=`- ${i.nome} x${i.q}\n`;
  });
  msg+=`üí∞ Total: R$ ${totalCarrinho.innerText}\nüí≥ ${pag}`;

  window.open(`https://wa.me/5521997437285?text=${encodeURIComponent(msg)}`);
  carrinho=[];
  atualizarCarrinho();
}

function atualizar(){
  render(pizzas,"listaPizzas");
  render(tapiocas,"listaTapiocas");
  render(bebidas,"listaBebidas");
}

atualizar();
</script>

</body>
</html>
